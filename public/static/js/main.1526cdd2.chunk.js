(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),a=n(33),o=n.n(a),r=n(8),s=(n(99),n(4)),l=n(20),d=n(14),u=n(160),j=n(161),b=n(162),p=n(157),f=n(158),h=n(159),g=n(167),x=n(147),O=n(155),m=n(5),y=n(2);var v=function(e){var t=e.recipes,n=Object(d.f)(),i=Object(m.a)(g.a)((function(e){var t=e.theme;return Object(l.a)(Object(l.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",fontFamily:"Alice, serif",color:t.palette.text.secondary})}));return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(x.a,{divider:Object(y.jsx)(h.a,{orientation:"vertical",flexItem:!0}),spacing:1,children:t.map((function(e){return Object(y.jsxs)(i,{className:"handy",onClick:function(){n("/RecipeDisplayPage/".concat(e.id))},children:[e.title,e.id>999?Object(y.jsx)("p",{children:"   "}):Object(y.jsx)(O.a,{disabled:!0,checked:e.cooked_by_user}),e.id>999?Object(y.jsx)("img",{alt:e.title,src:e.image,width:"50",height:"50"}):Object(y.jsx)("img",{alt:e.title,src:e.food_pic.url,width:"50",height:"50"})]},e.id)}))})})},S=n(78),k=n(76),C=n.n(k);var w=function(e){var t=e.loggedIn,n=i.useState({right:!1}),c=Object(r.a)(n,2),a=c[0],o=c[1],h=Object(i.useState)([]),g=Object(r.a)(h,2),x=g[0],O=g[1],m=i.useState(null),k=Object(r.a)(m,2),w=k[0],I=k[1],F=Boolean(w),A=Object(i.useState)(""),_=Object(r.a)(A,2),T=_[0],E=_[1],R=Object(d.f)(),P=function(e,n){return function(i){if(t){if("keydown"===i.type&&("Tab"===i.key||"Shift"===i.key))return;o(Object(l.a)(Object(l.a)({},a),{},Object(s.a)({},e,n))),fetch("/backend/saved_recipes").then((function(e){return e.json()})).then((function(e){return O(e)}))}else alert("Sorry, you need to be logged in to use that feature.")}},L=Object(d.f)();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(u.a,{sx:{flex:"auto"},children:Object(y.jsx)(j.a,{position:"static",children:Object(y.jsxs)(b.a,{style:{justifyContent:"space-between"},children:[Object(y.jsxs)("div",{style:{flexDirection:"row"},children:[Object(y.jsx)(p.a,{style:{fontFamily:"Alice, serif",background:"white",color:"black",boxShadow:"5px 5px"},variant:"outlined",onClick:function(){R("/UserOriginal")},children:"Write Your Own"}),Object(y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t?fetch("https://api.spoonacular.com/recipes/searchComplex?query=".concat(T,"&number=5&instructionsRequired=true&apiKey=b5e32d122c6b42b69718e6565a960525")).then((function(e){return e.json()})).then((function(e){return O(e.results)})).then(I(e.currentTarget)):alert("Sorry, you need to be logged in to use that feature.")},children:[Object(y.jsx)("input",{type:"text",style:{fontFamily:"Alice, serif",border:"1px solid white",borderRadius:"5px"},placeholder:"Find A Recipe...",value:T,onChange:function(e){E(e.target.value)}}),Object(y.jsx)("button",{className:"handy",style:{borderRadius:"25px",fontFamily:"Alice, serif",background:"white",color:"black",boxShadow:"5px 5px"},variant:"outlined",children:Object(y.jsx)(C.a,{})})]})]}),Object(y.jsx)("p",{className:"handy",onClick:function(){L("/")},style:{justifyContent:"center",fontSize:"3em",color:"white",fontFamily:"Lobster Two, cursive",fontWeight:"700"},children:"ReciPlenty"}),Object(y.jsx)(p.a,{style:{justifyContent:"right",fontFamily:"Alice, serif",background:"white",color:"black",boxShadow:"5px 5px"},variant:"outlined",onClick:P("right",!0),children:"My Recipes"})]})})}),Object(y.jsx)("div",{children:["right"].map((function(e){return Object(y.jsx)(i.Fragment,{children:Object(y.jsx)(f.a,{anchor:e,open:a[e],onClose:P(e,!1),children:Object(y.jsx)(v,{recipes:x})})},e)}))}),Object(y.jsx)("div",{children:Object(y.jsx)(S.a,{id:"basic-menu",anchorEl:w,open:F,onClose:function(){I(null),E("")},MenuListProps:{"aria-labelledby":"basic-button"},children:Object(y.jsx)(v,{recipes:x})})})]})},I=(n(106),n(152)),F=n(163);var A=function(e){var t=e.loggedIn,n=(e.setLoggedIn,Object(i.useState)({})),c=Object(r.a)(n,2),a=c[0],o=c[1],j=Object(i.useState)(null),b=Object(r.a)(j,2),f=b[0],h=b[1],g=Object(i.useState)("test"),x=Object(r.a)(g,2),m=x[0],v=x[1],S=Object(d.g)().id,k=Object(d.f)(),C=Object(d.f)();S&&!1===t&&(k("/"),alert("Sorry, you must be logged in to use this feature"));var w=Object(i.useState)(!1),A=Object(r.a)(w,2),_=A[0],T=A[1];Object(i.useEffect)((function(){S&&fetch("/backend/saved_recipes/".concat(S)).then((function(e){return e.json()})).then((function(e){o(e),T(e.cooked_by_user)}))}),[S]);var E=function(e){o(Object(l.a)(Object(l.a)({},a),{},Object(s.a)({},e.target.name,e.target.value)))};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(u.a,{style:{textAlign:"center"},children:[Object(y.jsx)("h1",{style:{fontFamily:"Alice, serif"},children:"Add Your Recipe"}),Object(y.jsx)(I.a,{variant:"filled",multiline:!0,style:{borderRadius:"10px",border:"5px solid blue",width:"90%"},value:a.title,label:"Title",required:!0,name:"title",onChange:E}),Object(y.jsx)(I.a,{variant:"filled",multiline:!0,style:{marginTop:"12px",borderRadius:"10px",border:"5px solid blue",width:"90%"},value:a.ingredients,label:"Ingredients",name:"ingredients",onChange:E}),Object(y.jsx)(I.a,{variant:"filled",multiline:!0,style:{marginTop:"12px",borderRadius:"10px",border:"5px solid blue",width:"90%"},value:a.instructions,label:"Instructions",name:"instructions",onChange:E}),Object(y.jsx)(F.a,{control:Object(y.jsx)(O.a,{checked:_,onChange:function(e){T(!_),o(Object(l.a)(Object(l.a)({},a),{},{cooked_by_user:!_}))}}),label:"Have you made this recipe before?"})]}),Object(y.jsx)("form",{children:Object(y.jsx)("input",{type:"file",multiple:!1,accept:"image/*",onChange:function(e){h(e.target.files[0]),v("".concat(e.target.files[0]))},label:m})}),S?Object(y.jsxs)("div",{children:[" ",Object(y.jsx)(p.a,{style:{marginTop:"12px",fontFamily:"Alice, serif"},variant:"contained",onClick:function(){fetch("/backend/saved_recipes/".concat(S),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log(e)}))},children:"SAVE CHANGES"})," ",Object(y.jsx)(p.a,{style:{marginTop:"12px",fontFamily:"Alice, serif"},variant:"contained",onClick:function(){fetch("/backend/saved_recipes/".concat(S),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),k("/")},children:"REMOVE FROM MY LIST"})," "]}):Object(y.jsx)("div",{children:Object(y.jsx)(p.a,{style:{marginTop:"12px",fontFamily:"Alice, serif"},onClick:function(){if(t){var e=new FormData;e.append("pic",f),e.append("title",a.title),e.append("ingredients",a.ingredients),e.append("instructions",a.instructions),e.append("cooked_by_user",_),fetch("/backend/add_user_recipe",{method:"POST",body:e}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){if(console.log(e),e.error){var t=e.exception.slice(50,-1);alert(t)}else o({title:"",ingredients:"",equipment:"",instructions:""}),v(null),T(!1),C("/RecipeDisplayPage/".concat(e.id))}))}else alert("Sorry, you must have an account to save recipes with us. Sign up today! (it's freeeee...)")},variant:"contained",children:"CREATE"})})]})},_=n(31),T=n(165),E=n(166),R=n(164);var P=function(e){var t=e.loggedIn,n=(e.setLoggedIn,Object(d.f)());!1===t&&(n("/"),alert("Sorry, you must be logged in to use this feature"));var c=Object(d.g)().id,a=Object(i.useState)(!1),o=Object(r.a)(a,2),s=o[0],l=o[1],u=Object(i.useState)({}),j=Object(r.a)(u,2),b=j[0],f=j[1],h=Object(i.useState)(""),g=Object(r.a)(h,2),x=g[0],m=g[1];return Object(i.useEffect)((function(){c>999?fetch("https://api.spoonacular.com/recipes/".concat(c,"/information?includeNutrition=false&apiKey=b5e32d122c6b42b69718e6565a960525")).then((function(e){return e.json()})).then((function(e){var t="";console.log(e),e.extendedIngredients.map((function(e){return t+="".concat(e.original,"; \n")})),f({title:e.title,instructions:e.instructions,ingredients:t,userOriginal:!1,source_url:e.sourceUrl,api_img:e.image})})):fetch("/backend/saved_recipes/".concat(c)).then((function(e){return e.json()})).then((function(e){console.log(e),f(e),l(e.cooked_by_user),m(e.food_pic.url)}))}),[c]),Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(T.a,{sx:{position:"relative",top:"12px",left:"50%",transform:"translate(-50%)",maxWidth:1e3,textAlign:"center"},children:[c<999?Object(y.jsx)(E.a,{component:"img",height:"350",image:x,alt:b.title}):Object(y.jsx)(E.a,{component:"img",height:"350",image:b.api_img,alt:b.title}),Object(y.jsx)(R.a,{style:{fontFamily:"Alice, cursive",fontWeight:"700",fontSize:"2.5em"},children:b.title}),Object(y.jsxs)(R.a,{style:{fontFamily:"Alice, serif"},children:[Object(y.jsx)("span",{style:{fontFamily:"Alice, cursive",fontSize:"1.5em",fontWeight:"700"},children:"Ingredients:"})," ",b.ingredients]}),Object(y.jsxs)(R.a,{style:{fontFamily:"Alice, serif"},children:[Object(y.jsx)("span",{style:{fontFamily:"Alice, cursive",fontSize:"1.5em",fontWeight:"700"},children:"Instructions:"})," ",b.instructions]}),c<999&&Object(y.jsx)(F.a,{disabled:!0,control:Object(y.jsx)(O.a,{checked:s}),label:"Have you made this recipe before?"}),c<999?Object(y.jsx)(_.b,{to:"EditPage",children:"EDIT!"}):Object(y.jsx)(p.a,{onClick:function(){fetch("/backend/add_api_recipe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}).then((function(e){return e.json()})).then((function(e){console.log(e)}))},children:"SAVE THIS RECIPE"})]})})};var L=function(e){var t=e.trivia;return Object(y.jsx)("h1",{style:{fontFamily:"Alice, serif"},children:t})};var D=function(e){var t=e.loggedIn,n=e.setLoggedIn,c=Object(i.useState)({}),a=Object(r.a)(c,2),o=a[0],d=a[1],j=function(e){return d(Object(l.a)(Object(l.a)({},o),{},Object(s.a)({},e.target.name,e.target.value)))},b=Object(i.useState)({}),f=Object(r.a)(b,2),g=f[0],x=f[1],O=function(e){return x(Object(l.a)(Object(l.a)({},g),{},Object(s.a)({},e.target.name,e.target.value)))},m=Object(i.useState)(""),v=Object(r.a)(m,2),S=v[0],k=v[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.a,{onClick:function(){fetch("https://api.spoonacular.com/food/trivia/random?apiKey=b5e32d122c6b42b69718e6565a960525").then((function(e){return e.json()})).catch((function(e){return alert(e)})).then((function(e){return k(e.text)}))},children:"TRIVIA"}),Object(y.jsx)(L,{trivia:S}),!t&&Object(y.jsx)("div",{children:Object(y.jsxs)(u.a,{sx:{padding:"20px 20px 20px 20px",position:"relative",top:"12px",display:"flex",alignItems:"center",border:function(e){return"1px solid ".concat(e.palette.divider)},bgcolor:"background.paper",color:"text.secondary"},children:[Object(y.jsxs)("div",{style:{textAlign:"center",borderRadius:1,flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(y.jsx)(I.a,{style:{margin:"3px 0px 3px 0px",width:"100%"},onChange:j,required:!0,value:o.name,name:"name",label:"Username"}),Object(y.jsx)(I.a,{style:{margin:"3px 0px 3px 0px",width:"100%"},onChange:j,required:!0,type:"password",value:o.password,name:"password",label:"Password"}),Object(y.jsx)(I.a,{style:{margin:"3px 0px 3px 0px",width:"100%"},onChange:j,required:!0,type:"password",value:o.password_confirmation,name:"password_confirmation",label:"Password Confirmation"}),Object(y.jsx)(p.a,{style:{margin:"3px 0px 3px 0px",fontFamily:"Alice, serif"},variant:"contained",onClick:function(){console.log(o),fetch("/backend/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){if(console.log(e),e.error){var t=e.exception.slice(31,-1);alert(t)}else d({name:"",password:"",password_confirmation:""}),n(!0)}))},children:" SIGN UP "})]}),Object(y.jsx)(h.a,{style:{fontFamily:"Alice, serif"},orientation:"vertical",flexItem:!0,variant:"middle",children:"OR"}),Object(y.jsxs)("div",{style:{textAlign:"center",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(y.jsx)(I.a,{style:{margin:"3px 0px 3px 0px",width:"100%"},onChange:O,required:!0,label:"Username",name:"name",value:g.name}),Object(y.jsx)(I.a,{style:{margin:"3px 0px 3px 0px",width:"100%"},onChange:O,required:!0,label:"Password",name:"password",type:"password",value:g.password}),Object(y.jsx)(p.a,{style:{margin:"3px 0px 3px 0px",fontFamily:"Alice, serif"},variant:"contained",onClick:function(){fetch("/backend/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?alert(e.error):(x({name:"",password:""}),n(!0))}))},children:"SIGN IN"})]})]})})]})};var N=function(){var e=Object(i.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1];Object(i.useEffect)((function(){fetch("/backend/logged_in").then((function(e){return e.json()})).then((function(e){console.log(e),c(e.logged_in)}))}),[]);var a=Object(d.f)();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w,{loggedIn:n,setLoggedIn:c}),Object(y.jsxs)(d.c,{children:[Object(y.jsx)(d.a,{path:"/",element:Object(y.jsx)(D,{loggedIn:n,setLoggedIn:c})}),Object(y.jsx)(d.a,{path:"/UserOriginal",element:Object(y.jsx)(A,{loggedIn:n,setLoggedIn:c})}),Object(y.jsx)(d.a,{path:"/RecipeDisplayPage/:id",element:Object(y.jsx)(P,{loggedIn:n,setLoggedIn:c})}),Object(y.jsx)(d.a,{path:"/RecipeDisplayPage/:id/EditPage",element:Object(y.jsx)(A,{loggedIn:n,setLoggedIn:c})})]}),n?Object(y.jsx)(p.a,{style:{fontFamily:"Alice, serif",position:"absolute",bottom:"12px",right:"50%",transform:"translate( 50%)"},onClick:function(){fetch("/backend/logout",{method:"DELETE"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){console.log(e),c(!1)}))},children:"SIGN OUT"}):Object(y.jsx)(p.a,{style:{fontFamily:"Alice, serif",position:"absolute",bottom:"12px",right:"50%",transform:"translate( 50%)"},onClick:function(){a("/")},children:"Log In or Sign Up!"})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,169)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),a(e),o(e)}))};o.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(_.a,{children:Object(y.jsx)(N,{})})}),document.getElementById("root")),q()},99:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.1526cdd2.chunk.js.map